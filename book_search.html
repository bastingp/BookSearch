<!DOCTYPE html>

<html>

<script type = "text/javascript">
var XMLHttp;
var CGIBusy;
			
function pageInit()
{
	var CGIBusy = false;
	if(navigator.appName == "Microsoft Internet Explorer") {
		XMLHttp = new ActiveXObject("Microsoft.XMLHTTP");
	} else {
		XMLHttp = new XMLHttpRequest();
	}
	
	console.log("Initialized page!");
}
			
function getresponse () 
{
	console.log("getting response");
	if(CGIBusy)	return;		//don't open another CGI if it's already busy

    var word = document.getElementById('word').value;		     
    if (word.length <= 3) return;							//don't look for words 3 or fewer characters
	CGIBusy = true;
	document.getElementById('word').value = "";			//wipe submission area
	document.getElementById('responseArea').innerHTML = "";		//wipe previous results

    <!-- XMLHttp.open("GET", "/cgi-bin/schutzj_shakesfetchajax.cgi?" -->
						 <!-- + "&word=" + word -->
						 <!-- ,true); -->
    <!-- XMLHttp.onreadystatechange=function()  -->
	<!-- { -->
		<!-- if(XMLHttp.readyState == 4) -->
		<!-- { -->
			<!-- <!-- document.getElementById('display').innerHTML += XMLHttp.responseText;			//update display with CGI response --> -->
			<!-- document.getElementById('display').innerHTML += word; -->
			<!-- CGIBusy = false; -->
		<!-- } -->
	<!-- } -->
	<!-- XMLHttp.send(null); -->
	
	for(var i = 0; i < 1000; i++)
	{
		document.getElementById('responseArea').innerHTML += word;
		document.getElementById('responseArea').innerHTML += '</p>';
	}
	
	CGIBusy = false;
	console.log(word);
}

</script>

	<head>
		<title>Book Search</title>
    	<link rel="stylesheet" type="text/css" href="book_search.css">
	</head>
	<h1>Project Gutenberg: Book Search</h1>

	<body onLoad="pageInit()">
		<div class ="head">
		</div>
		<div class = "instructions">
		Enter a word to search for in the Gutenberg collection
		</div>

		<div class = "search">
			<input type="text" id="word" class = "text_input" maxlength="20"></input>
			<input class="Button" type="submit" onclick="getresponse()" value="Search">
		</div>
		<div class = "main">
		<div class = "display" id="responseArea">
		</div>
		</div>

	</body>

</html>